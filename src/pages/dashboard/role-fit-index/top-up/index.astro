---
import Layout from "@/layouts/Layout.astro";
import { Sidebar } from "@/components/interactive/Sidebar";
import TopUpCard from "@/components/interactive/TopUpCard";
import PaymentEventTable from "@/components/interactive/PaymentEventTable";
import AuthGuard from "@/components/interactive/AuthGuard";
import CreditSection from "@/components/interactive/CreditSection";
import { EXTERNAL } from "@/constant";
---

<Layout title="Top Up Role Fit Index Credit â€” Bounteer">
  <AuthGuard client:load>
    <main class="bg-gray-50 min-h-screen flex flex-col lg:flex-row">
      <!-- Sidebar handles both mobile topbar + desktop sidebar -->
      <Sidebar client:load />

      <!-- Main content -->
      <section class="flex-1 px-6 py-10">
        <div class="mb-6">
          <h1 class="text-2xl font-semibold tracking-tight">
            Top Up Role Fit Index Credit
          </h1>
          <p class="text-sm text-muted-foreground">
            Choose a credit package to add funds to your account.
          </p>
        </div>

        <CreditSection
          client:load
          directusUrl={EXTERNAL.directus_url}
          className="mb-8"
        />

        <TopUpCard
          client:load
          directusUrl={EXTERNAL.directus_url}
          readToken={EXTERNAL.directus_key}
          category="topup"
          limit={10}
        />

        <PaymentEventTable
          client:load
          directusUrl={EXTERNAL.directus_url}
          readToken={EXTERNAL.directus_key}
        />
      </section>
    </main>
  </AuthGuard>
</Layout>
